<form (ngSubmit)="onChangeState()" class="m-0" name="changeStateForm">
  <div class="modal-header">
    <a (click)="onCancel()" class="modal-close material-icons" href="javascript: void(0);">close</a>
    <h4 [innerHTML]="dialogTitle | i18nName : principal" class="modal-title text-left"></h4>
  </div>
  <div class="modal-body">
    <xm-loader [showLoader]="showLoader"></xm-loader>
    <json-schema-form (formLayout)="jsfAttributes.formLayout"
                      (isValid)="isJsonFormValid = $event"
                      (onChanges)="onChangeForm($event)"
                      *ngIf="xmEntity && jsfAttributes?.schema"
                      [data]="jsfAttributes.data"
                      [form]="jsfAttributes.form | i18nJsf :principal"
                      [framework]="'material-design'"
                      [layout]="jsfAttributes.layout | i18nJsf :principal"
                      [options]="jsfAttributes.options | i18nJsf :principal"
                      [schema]="jsfAttributes.schema"
                      [widgets]="jsfAttributes.widgets"
                      class="json-form-hide-submit">
    </json-schema-form>
  </div>
  <div class="modal-footer">
    <button (click)="onCancel()" class="btn mr-1" data-dismiss="modal" mat-button type="button">
      <span jhiTranslate="xm-entity.common.cancel">Cancel</span>
    </button>
    <button [disabled]="showLoader || !isJsonFormValid" class="btn btn-primary" mat-button type="submit">
      <span>{{buttonTitle | i18nName : principal}}</span>
    </button>
  </div>
</form>
